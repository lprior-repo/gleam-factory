# TDD-TCR-REFACTOR Session History

This file tracks the reasoning from each agent to provide context to subsequent agents.

---


## Iteration 0 - SESSION START

Requirements: Enhance CLI argument parsing in cli.gleam:

1. parse_args(args: List(String)) -> Result(Command, String)
   - Pure function taking args list (testable without argv)
   - Refactor parse() to use parse_args internally

2. Flexible flag ordering:
   - 'new --slug x --contract y' AND 'new --contract y --slug x' both work
   
3. Required argument validation:
   - 'new' requires --slug
   - 'stage' requires --slug AND --stage
   - Clear error messages

4. Short flags:
   - -s = --slug
   - -c = --contract  
   - -d = --dry-run
   - -f = --force

5. Value validation:
   - --priority: P1, P2, P3 only
   - --status: open, in_progress, done only
   - --strategy: immediate, gradual, canary only

---
